"""Costmap component launch file for Nav2.This launches both global and local costmaps."""from launch import LaunchDescriptionfrom launch.actions import DeclareLaunchArgumentfrom launch.substitutions import LaunchConfigurationfrom launch_ros.actions import Nodefrom ament_index_python.packages import get_package_share_directoryimport osdef generate_launch_description():    """Generate launch description for Nav2 costmaps."""       # Get package directory    pkg_dir = get_package_share_directory('ntu_robotsim_octomap')       # Declare launch arguments    use_sim_time_arg = DeclareLaunchArgument(        'use_sim_time',        default_value='true',        description='Use simulation time'    )    # Nav2 parameters file - USING THE FIXED VERSION WITH DOUBLE NESTING    nav2_params_file = os.path.join(pkg_dir, 'config', 'nav2', 'nav2_params.yaml')        # Global costmap node    global_costmap_node = Node(        package='nav2_costmap_2d',        executable='nav2_costmap_2d',        name='global_costmap',        namespace='',        output='screen',	arguments=['--ros-args', '--log-level', 'debug'],        parameters=[            nav2_params_file,            {'use_sim_time': LaunchConfiguration('use_sim_time')}        ],        remappings=[            ('/costmap', '/global_costmap/costmap'),            ('/costmap_updates', '/global_costmap/costmap_updates'),            ('/footprint', '/global_costmap/footprint'),            ('/published_footprint', '/global_costmap/published_footprint')        ]    )    # Local costmap node    local_costmap_node = Node(        package='nav2_costmap_2d',        executable='nav2_costmap_2d',        name='local_costmap',        namespace='',        output='screen',        parameters=[            nav2_params_file,            {'use_sim_time': LaunchConfiguration('use_sim_time')}        ],        remappings=[            ('/costmap', '/local_costmap/costmap'),            ('/costmap_updates', '/local_costmap/costmap_updates'),            ('/footprint', '/local_costmap/footprint'),            ('/published_footprint', '/local_costmap/published_footprint')        ]    )        lifecycle_manager_node = Node(    	package='nav2_lifecycle_manager',    	executable='lifecycle_manager',    	name='lifecycle_manager_costmaps',    	namespace='',    	output='screen',    	parameters=[            {'use_sim_time': LaunchConfiguration('use_sim_time')},            {'autostart': True},            {'node_names': [                'global_costmap',  # This will be resolved under the node's namespace                'local_costmap'            ]},            {'configure_timeout': 10.0}        ],        remappings=[            # Remap the lifecycle services to the correct namespaced versions            ('/global_costmap/get_state', '/global_costmap/global_costmap/get_state'),            ('/global_costmap/change_state', '/global_costmap/global_costmap/change_state'),            ('/local_costmap/get_state', '/local_costmap/local_costmap/get_state'),            ('/local_costmap/change_state', '/local_costmap/local_costmap/change_state')        ]    )    return LaunchDescription([        use_sim_time_arg,        global_costmap_node,        local_costmap_node,        lifecycle_manager_node    ])